<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>

</head>
<body>
    <script>
//         var CreateInput = function(options) {
//     var _inputDiv;
//     var _input;
//     var _input2;

//     this.construct = function() {
//         _inputDiv = $('<div>').addClass("test");

//         if (options && (options.inputType === 'datetime' || options.inputType === 'timedate')) {
//             _input2 = $("<input type='date'>");
//             _input = $("<input type='time'>");
            
//         } else if (options && options.inputType === 'time') {
//             _input = $("<input type='time'>");
//         } else {
//             _input = $("<input type='date'>");
//         }

//         _inputDiv.append(_input2);
//         _inputDiv.append(_input);
//     };

//     this.val = function(val) {
//         if (val !== undefined) {
          
//             if (!isValidDate(val.date)) {
//                 console.error('Invalid date input  :', val.date);
//                 return;
//             }
            
           
//             if (!isValidTime(val.time)) {
//                 console.error('Invalid time input:', val.time);
//                 return;
//             }

//             _input.val(val.time);
//             _input2.val(val.date);
//         } else {
//             return {
//                 date: _input2.val(),
//                 time: _input.val()
//             };
//         }
//     };

//     this.addToDom = function() {
//         $("body").append(_inputDiv);
//     };

//     this.construct();

//     function isValidDate(dateStr) {
//         var dateRegex = /^\d{4}-\d{2}-\d{2}$/;
//         if (!dateRegex.test(dateStr)) return false;

//         var parts = dateStr.split('-');
//         var year = parseInt(parts[0], 10);
//         var month = parseInt(parts[1], 10);
//         var day = parseInt(parts[2], 10);

      
//         if (month < 1 || month > 12) return false;
//         if (day < 1 || day > 31) return false;

        

//         return true;
//     }

//     function isValidTime(timeStr) {
//         var timeRegex = /^\d{2}:\d{2}$/;
//         if (!timeRegex.test(timeStr)) return false;

//         var parts = timeStr.split(':');
//         var hours = parseInt(parts[0], 10);
//         var minutes = parseInt(parts[1], 10);

       
//         if (hours < 0 || hours > 23) return false;
//         if (minutes < 0 || minutes > 59) return false;

//         return true;
//     }
// };


// let obj = new CreateInput({"inputType": "datetime"});
// obj.addToDom();

// obj.val({ date: '2024-10-19', time: '12:00' });  

// console.log(obj.val());

// obj.val({ date: '2024-13-40', time: '25:99' }); 

// console.log(obj.val());



// newwwwww


var CreateInput = function(options) {
    var _inputDiv = $('<div>').addClass("test");
    var _input, _input2;

    if (options && (options.inputType === 'datetime' || options.inputType === 'timedate')) {
        _input2 = $("<input type='date'>");
        _input = $("<input type='time'>");
    } else if (options && options.inputType === 'time') {
        _input = $("<input type='time'>");
    } else {
        _input = $("<input type='date'>");
    }

    _inputDiv.append(_input2);
    _inputDiv.append(_input);
    $("body").append(_inputDiv);

    this.val = function(val) {
        if (val !== undefined) {
            if (!isValidDateTime(val.date, val.time)) {
                console.error('Invalid date or time input:', val.date, val.time);
                return;
            }
            _input.val(val.time);
            _input2.val(val.date);
        } else {
            return {
                date: _input2.val(),
                time: _input.val()
            };
        }
    };

    function isValidDateTime(dateStr, timeStr) {
        return isValidDate(dateStr) && isValidTime(timeStr);
    }

    function isValidDate(dateStr) {
        return /\d{4}-\d{2}-\d{2}/.test(dateStr) && !isNaN(Date.parse(dateStr));
    }

    function isValidTime(timeStr) {
        return /^\d{2}:\d{2}$/.test(timeStr) && /^([01]\d|2[0-3]):([0-5]\d)$/.test(timeStr);
    }
};

let obj = new CreateInput({"inputType": "datetime"});

//obj.val({ date: '2024-10-19', time: '12:00' }); 
// console.log(obj.val());

// obj.val({ date: '2024-13-40', time: '25:99' });  
// console.log(obj.val()); 





// let dateInput = "2019/18/15"; // YYYY/MM/DD format

// let dateObj = new Date(dateInput);

// console.log(dateObj);

    </script>
    
</body>
</html> 